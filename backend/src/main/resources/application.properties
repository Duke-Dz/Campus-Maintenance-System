spring.application.name=smart-campus-maintenance-system
server.port=8080
spring.config.import=optional:file:.env[.properties]

# Database (defaults to H2, override with DB_* env vars for MySQL)
spring.datasource.url=${DB_URL:jdbc:h2:file:./data/smart-campus-maintenance;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:}
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true
spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
spring.h2.console.path=/h2-console

# File uploads
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=6MB
app.upload.dir=uploads

# JWT
# 32+ chars required. Set JWT_SECRET in production.
jwt.secret=${JWT_SECRET:replace-this-with-a-very-long-32-char-secret-value}
jwt.expiration-ms=${JWT_EXPIRATION_MS:${JWT_EXPIRATION:86400000}}

# Frontend URL (used in welcome/reset email links)
app.frontend.base-url=${FRONTEND_BASE_URL:http://localhost:5173}

# Email (set APP_EMAIL_ENABLED=true and SMTP vars to send real emails)
app.email.enabled=${APP_EMAIL_ENABLED:false}
app.email.from=${APP_EMAIL_FROM:campusfixsystems@gmail.com}
app.email.support-inbox=${APP_EMAIL_SUPPORT_INBOX:${app.email.from}}
spring.mail.host=${MAIL_HOST:}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS_ENABLE:true}
spring.mail.properties.mail.smtp.starttls.required=${MAIL_SMTP_STARTTLS_REQUIRED:true}
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Bootstrap users and demo data
app.seed.demo-data=${APP_SEED_DEMO_DATA:true}
app.seed.demo-password=${APP_SEED_DEMO_PASSWORD:password}
app.seed.admin.username=${APP_ADMIN_USERNAME:admin}
app.seed.admin.email=${APP_ADMIN_EMAIL:admin@campus.local}
app.seed.admin.full-name=${APP_ADMIN_FULL_NAME:Campus Admin}
app.seed.admin.password=${APP_ADMIN_PASSWORD:password}
app.auth.verification-code-ttl-minutes=${APP_AUTH_VERIFICATION_CODE_TTL_MINUTES:15}
app.auth.reset-token-ttl-minutes=${APP_AUTH_RESET_TOKEN_TTL_MINUTES:60}
app.auth.verification-code-max-attempts=${APP_AUTH_VERIFICATION_CODE_MAX_ATTEMPTS:5}
app.auth.verification-resend-cooldown-seconds=${APP_AUTH_VERIFICATION_RESEND_COOLDOWN_SECONDS:60}
app.auth.reset-request-cooldown-seconds=${APP_AUTH_RESET_REQUEST_COOLDOWN_SECONDS:60}
app.auth.public-request-min-delay-ms=${APP_AUTH_PUBLIC_REQUEST_MIN_DELAY_MS:350}
app.auth.token-cleanup-cron=${APP_AUTH_TOKEN_CLEANUP_CRON:0 15 * * * *}
app.auth.used-token-retention-hours=${APP_AUTH_USED_TOKEN_RETENTION_HOURS:24}

# Public landing configuration
app.landing.support-hours=Mon-Fri, 08:00-20:00
app.landing.support-phone=+254 747988030
app.landing.support-timezone=EAT (UTC+03:00)
app.landing.sla.urgent-hours=2
app.landing.sla.standard-hours=24
